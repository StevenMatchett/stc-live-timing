(this["webpackJsonplive-timing"]=this["webpackJsonplive-timing"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),i=(a(79),a(62)),o=a(22),s=a.n(o),u=a(34),m=a(11),d=a(59),f=a(60),p=function(){function e(t,a,n,r,c,l,i){Object(d.a)(this,e),this.clazz=t,this.name=a,this.time=this.parseTime(n),this.number=r,this.rawTimes=c,this.car=l,this.fastestIndex=i}return Object(f.a)(e,[{key:"parseTime",value:function(e){return e=parseFloat(e,10),isNaN(e)?999:e}}]),e}(),h=a(81),E=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r,c,l,i,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get(t);case 2:return n=e.sent,r=new DOMParser,c=r.parseFromString(n.data.contents,"text/html"),l={},i="",o=0,u=0,c.querySelectorAll("body > a > table:nth-child(4) > tbody > tr").forEach((function(e){if(e.querySelector("th"))i=e.querySelector("a").name,l[i]=[];else{var t=e.querySelector("td:nth-child(2)").innerText,a=e.querySelector("td:nth-child(3)").innerText,n=e.querySelector("td:nth-child(4)").innerText,r=e.querySelector("td:nth-child(5)").innerText,c=Array.prototype.slice.call(e.querySelectorAll("td:nth-child(n+7)"));c=c.slice(0,c.length-2);var s=[],m=[],d=999,f=-1;c.forEach((function(e,t){var a=e.innerText.split("+").map((function(e){return e.trim()}));if(m.push(e.innerText.trim()),1===a.length){if(""===a[0])return;var n=parseFloat(a,10);s.push(n),u++,n<d&&(d=n,f=t)}else if(2===a.length){if("dnf"===a[1]||"dns"===a[1])return void s.push(999);var r=parseFloat(a[1],10),c=parseFloat(a,10)+2*r;o+=r,u++,s.push(c),c<d&&(d=c,f=t)}}));var h=s.sort((function(e,t){return e-t}))[0];l[i].push(new p(t,n,h,a,m,r,f))}})),a({type:"RUNS_AND_CONES",data:{conesHit:o,runCount:u}}),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=a(132),g=a(138),w=a(142),v=a(141),y=a(135),O=a(139),x=a(140),j=a(137),T=Object(n.createContext)(),D=function(e){var t=e.initialState,a=e.children,c=e.reducer;return r.a.createElement(T.Provider,{value:Object(n.useReducer)(c,t)},a)},S=function(){return Object(n.useContext)(T)},C=Object(b.a)({table:{minWidth:500},height:"35px"});function z(e){var t=e.data,a=S(),n=Object(m.a)(a,2)[1],c=t.map((function(e){return t=e.name,a=e.number,n=e.time,r=e.clazz,c=e.rawTimes,l=e.car,i=e.fastestIndex,{name:t,number:a,time:n,clazz:r,rawTimes:c,car:l,fastestIndex:i};var t,a,n,r,c,l,i})),l=C(),i=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:j.a},r.a.createElement("div",null,r.a.createElement(g.a,{className:l.table,"aria-label":"simple table"},r.a.createElement(O.a,null,r.a.createElement(x.a,{style:{background:"gray"}},r.a.createElement(v.a,{style:{width:25,color:"white"},align:"left"},"Position"),r.a.createElement(v.a,{style:{color:"white"}},"Name"),r.a.createElement(v.a,{style:{color:"white"},align:"left"},"Number"),r.a.createElement(v.a,{style:{color:"white"},align:"left"},"Best"),r.a.createElement(v.a,{style:{color:"white"},align:"left"},"1"),r.a.createElement(v.a,{style:{color:"white"},align:"left"},"2"),r.a.createElement(v.a,{style:{color:"white"},align:"left"},"3"),r.a.createElement(v.a,{style:{color:"white"},align:"left"},"4"),r.a.createElement(v.a,{style:{color:"white"},align:"left"},"5"),r.a.createElement(v.a,{style:{color:"white"},align:"left"},"6"))),r.a.createElement(w.a,null,c.map((function(e,t){return i++,r.a.createElement(x.a,{key:e.name,style:t%2?{background:"#f2f2f2"}:{}},r.a.createElement(v.a,{align:"left"},i),r.a.createElement(v.a,{onClick:function(){return n({type:"SELECTED_DRIVER",data:e})},component:"th",scope:"row"},r.a.createElement("div",{style:{color:"blue",cursor:"pointer"}},e.name)),r.a.createElement(v.a,{align:"left"},e.number+" "+e.clazz.toUpperCase()),r.a.createElement(v.a,{align:"left"},e.time),[0,1,2,3,4,5].map((function(t){return e.fastestIndex===t?r.a.createElement(v.a,{align:"left",style:{backgroundColor:"lightgreen"}},e.rawTimes.length>t?e.rawTimes[t]:""):r.a.createElement(v.a,{align:"left"},e.rawTimes.length>t?e.rawTimes[t]:"")})))})))))))}a(102);var A=a(146),P=Object(b.a)({table:{minWidth:500,maxWidth:500,width:500}});function R(e){var t=P(),a=S(),n=Object(m.a)(a,1)[0].selected,c=n.clazz,l=n.name,i=n.rawTimes,o=n.car,s=n.fastestIndex,u=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:j.a},r.a.createElement("div",{style:{overflow:"auto"}},r.a.createElement("h2",{style:{marginLeft:"15px"}},l," (",c.toUpperCase(),")"),r.a.createElement("h4",{style:{marginLeft:"15px"}},o),r.a.createElement(g.a,{className:t.table,"aria-label":"simple table",style:{tableLayout:"fixed"}},r.a.createElement(O.a,null,r.a.createElement(x.a,null,r.a.createElement(v.a,{align:"left"},"Run"),r.a.createElement(v.a,{align:"left"},"Time"))),r.a.createElement(w.a,null,i.map((function(e,t){return u++,r.a.createElement(x.a,null,r.a.createElement(v.a,{align:"left"},u),s+1===u?r.a.createElement(v.a,{align:"left",style:{backgroundColor:"lightgreen"}},e):r.a.createElement(v.a,{align:"left"},e))})))))))}function k(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var N=Object(b.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),W=function(){var e=S(),t=Object(m.a)(e,2),a=t[0].selected,n=t[1],c=N(),l=r.a.useState(k),i=Object(m.a)(l,1)[0];return a?r.a.createElement("div",null,r.a.createElement(A.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:!!a,onClose:function(){return n({type:"DESELECT_DRIVER"})}},r.a.createElement("div",{style:i,className:c.paper},r.a.createElement(R,null)))):r.a.createElement("div",null)},I=a(148),_=a(145),F=a(143),U=a(144),q=Object(b.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),X=function(e){var t=e.clazzes,a=q(),n=S(),c=Object(m.a)(n,2),l=c[0].dropdown,i=c[1];return r.a.createElement(F.a,{className:a.formControl},r.a.createElement(I.a,null,"Class"),r.a.createElement(U.a,{value:l,onChange:function(e){window.history.pushState("","","".concat(window.location.pathname,"?class=").concat(e.target.value)),i({type:"UPDATE_DROPDOWN",data:e.target.value})}},t.map((function(e){return r.a.createElement(_.a,{value:e},e.toUpperCase())}))))},L={ss:.822,as:.819,bs:.814,cs:.809,ds:.806,es:.794,fs:.803,gs:.792,hs:.78,hcs:.792,ssr:.843,"xs-a":.844,"xs-b":.864,ev:.824,ssp:.853,asp:.849,bsp:.852,csp:.865,dsp:.842,esp:.839,fsf:.823,sts:.812,stx:.816,str:.827,stu:.828,sth:.813,ssc:.801,smf:.841,sm:.854,ssm:.875,xp:.88,bp:.867,cp:.851,dp:.866,ep:.85,fp:.868,hcr:.815,am:1,bm:.962,cm:.893,dm:.895,em:.896,fm:.911,fsae:.963,km:.93,ja:.855,jb:.82,jc:.718,camc:.818,camt:.817,cams:.833},H=function(e){var t=[];return Object.keys(e).forEach((function(a){t="n"===a?t.concat(e[a].map((function(e){var t=e.time;if(999!==t){var a=e.clazz.substring(1);t=(e.time/L[a]).toFixed(3)}return new p(e.clazz,e.name,t,e.number,e.rawTimes,e.car,e.fastestIndex)}))):t.concat(e[a])})),t.sort((function(e,t){return e.time-t.time})),t},V=function(e){var t=[];return Object.keys(e).forEach((function(a){t="n"===a?t.concat(e[a].map((function(e){return new p(e.clazz,e.name,e.time,e.number,e.rawTimes,e.car,e.fastestIndex)}))):t.concat(function(e,t){return e.map((function(e){return new p(e.clazz,e.name,(e.time*L[t]).toFixed(3),e.number,e.rawTimes,e.car,e.fastestIndex)}))}(e[a],a))})),t.sort((function(e,t){return e.time-t.time})),t},B=function(e){var t=Object(n.useState)(),a=Object(m.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),d=Object(m.a)(o,2),f=d[0],p=d[1],h=Object(n.useState)(""),b=Object(m.a)(h,2),g=b[0],w=b[1],v=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){if(window.location.search&&window.location.search.includes("?class=")){var e=window.location.search.replace("?class=","").trim();(Object.keys(L).includes(e)||"RAW"===e)&&A({type:"UPDATE_DROPDOWN",data:e})}else A({type:"UPDATE_DROPDOWN",data:"PAX"})},O=S(),x=Object(m.a)(O,2),j=x[0],T=j.dropdown,D=j.conesHit,C=j.runCount,A=x[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(E("https://api.allorigins.win/get?url=stcsolo.com/live/results_live.htm?cache="+(new Date).getTime(),A));case 2:t=e.sent,a=H(t),n=V(t),t.RAW=a,t.PAX=n,w(t.PAX[0].time),l(t),r=Object.keys(t),r=["PAX","RAW"].concat(Object(i.a)(r.slice(0,r.length-2))),p(r),y();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),window.onpopstate=function(e){return y()},c&&f&&!f.includes(T)&&A({type:"UPDATE_DROPDOWN",data:"PAX"}),r.a.createElement(r.a.Fragment,null,c&&f&&r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(X,{clazzes:f}),r.a.createElement("a",{style:{float:"right",paddingRight:"1em",paddingTop:"1em"},href:"mailto:gosefroba22@gmail.com"},"Issue or Suggestion?"),"PAX"!==T&&"RAW"!==T?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",null,"Time needed to match top PAX: ",(g/L[T]).toFixed(3))):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",null,"Number of runs: ",C," "),r.a.createElement("div",null,"Cones hit: ",D)),r.a.createElement(z,{class:"col",data:c[T],name:T,topPax:g})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(38);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,{initialState:{selected:null,dropdown:"PAX"},reducer:function(e,t){switch(t.type){case"SELECTED_DRIVER":return Object(J.a)({},e,{selected:t.data});case"DESELECT_DRIVER":return Object(J.a)({},e,{selected:null});case"UPDATE_DROPDOWN":return Object(J.a)({},e,{dropdown:t.data});case"RUNS_AND_CONES":return Object(J.a)({},e,{conesHit:t.data.conesHit,runCount:t.data.runCount});default:return e}}},r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){e.exports=a(103)},79:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.84f94966.chunk.js.map